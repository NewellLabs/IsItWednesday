@using System.Timers
@page "/"

<h1 class="text-center text-lg @(_wednesday ? "text-success" : "text-danger")">@(_wednesday ? "YES" : "NO")</h1>

@functions
{
    
    bool _wednesday;

    Timer _timer;

    protected override async Task OnInitAsync()
    {
        TimerOnElapsed(null, null);
        _timer = new Timer(1000);
        _timer.Elapsed += TimerOnElapsed;
        _timer.Start();
    }

    private void TimerOnElapsed(object sender, ElapsedEventArgs e)
    {
        _wednesday = IsItWed();
        StateHasChanged();
    }

    private static bool IsItWed()
    {
        var now = DateTime.Now;

        return now.DayOfWeek == DayOfWeek.Wednesday || (now.DayOfWeek == DayOfWeek.Thursday && now.Hour < 2);
    }
}
